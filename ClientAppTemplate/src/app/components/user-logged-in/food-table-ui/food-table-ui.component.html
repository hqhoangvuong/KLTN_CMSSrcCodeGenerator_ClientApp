<div class="generate__container">
  <mat-card
    class="mr-2 mt-2"
    [ngClass]="{
      'card--black': isDarkThemeSubscription === true
    }"
  >
    <h1 id="tableLabel " class="mt-2">Foody</h1>
    <div class="search__bar__container">
      <div class="search__bar">
        <input
          class="search__bar__input mt-2 col-8"
          autocomplete="off"
          type="text"
          placeholder="Search..."
          (keyup)="applyFilter($event)"
          [(ngModel)]="filterKey"
        />
        <button class="btn btn-primary mt-2">Search</button>
      </div>
    </div>
  </mat-card>

  <p *ngIf="!listItems"><em>Loading...</em></p>
  <mat-card
    class="mt-2 mr-2"
    [ngClass]="{
      'card--black': isDarkThemeSubscription === true
    }"
  >
    <div class="table__container mt-2">
      <div class="row">
        <div class="col-12">
          <button
            class="btn btn-primary mb-4"
            (click)="onTriggerAction('create')"
            [routerLink]="['/user/index/foodmanagement/create']"
            *ngIf="!false"
            routerLinkActive="router-link-active"
          >
            <i class="fas fa-plus"></i> <span>Create</span>
          </button>
          <table
            class="table table-hover table-responsive w-100 d-block d-md-table"
            *ngIf="listItems"
            [ngClass]="{
              'table--white': isDarkThemeSubscription === true
            }"
          >
            <thead class="table__header">
                <th scope="col-md-auto"> id </th>
                <th scope="col-md-auto"> name </th>
                <th scope="col-md-auto"> price </th>
                <th scope="col-md-auto"> category </th>
                <th scope="col-md-auto"> isDelete </th>
                <th scope="col-md-auto"> discount </th>
              <th scope="col-md-auto">Actions</th>
            </thead>
            <tbody class="table__body">
              <tr *ngFor="let item of listItems">
                <td>{{ item.id }}</td>
                <td>{{ item.name }}</td>
                <td>{{ item.price }}</td>
                <td>{{ item.category }}</td>
                <td>{{ item.isDelete }}</td>
                <td>{{ item.discount }}</td>
                <td>
                  <div class="d-flex">
                    <button
                      class="btn btn-primary h-25"
                      (click)="onClickView(item.id)"
                      [routerLink]="['/user/index/foodmanagement/view', item.id]"
                      routerLinkActive="router-link-active"
                    >
                      <i class="fas fa-search"></i> View
                    </button>
                    <button
                      class="btn btn-success h-25"
                      (click)="onClickEdit(item.id)"
                      *ngIf="!false"
                      [routerLink]="['/user/index/foodmanagement/update', item.id]"
                      routerLinkActive="router-link-active"
                    >
                      <i class="fas fa-edit"></i> Edit
                    </button>
                    <button
                      class="btn btn-danger h-25"
                      *ngIf="!true"
                      (click)="onClickDelete(item.id)"
                      routerLinkActive="router-link-active"
                    >
                      <i class="fas fa-trash"></i>Delete
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <mat-card
          class="footer mt-3 mat-elevation-z0"
          [ngClass]="{
            'card--black': isDarkThemeSubscription === true
          }"
        >
          <div class="container d-flex flex-row-reverse h-100">
            <span class="align-self-center">Items per page</span>
            <select
              [(ngModel)]="pageSize"
              class="dropdown__select__pagesize align-self-center"
              [ngClass]="{
                'dropdown__select__pagesize--dark':
                  isDarkThemeSubscription === true
              }"
            >
              <option value="5">5</option>
              <option value="10" selected>10</option>
              <option value="20">20</option>
            </select>
            <span class="align-self-center mr-2">
              From: {{ pageIndex }} of {{ pageDataTotalCount }}
            </span>
            <div class="group__buttons__footer">
              <button
                class="btn btn-primary align-self-center"
                (click)="gotoPrevious()"
              >
                <i class="fas fa-step-backward"></i>
              </button>
              <button
                class="btn btn-primary align-self-center"
                (click)="gotoNext()"
              >
                <i class="fas fa-step-forward"></i>
              </button>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
  </mat-card>
  <mat-card
    class="mt-2 mr-2"
    [ngClass]="{
      'card--black': isDarkThemeSubscription === true
    }"
  >
    <app-footer></app-footer>
  </mat-card>
</div>
